
@{
    ViewBag.Title = "WeatherInfo";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@model MyWeatherForecast.Models.WeatherInformation
@{
    int count = 1;
    string bgClass = "";
}


@*<h2>WeatherInfo</h2>*@

@using (Html.BeginForm("WeatherInfo", "Weather"))
{
    @*@Html.TextBoxFor(m => m.Location, new { placeholder = "London, GB" })
        @Html.TextBoxFor(m => m.NumberOfDays, new { placeholder = "4" })*@
    <div class="form-group">
        Target Location:
        <input type="text" required id="Location" name="Location" placeholder="London,GB" />
        Number of Days:
        <input type="text" pattern="[0-5]" required id="NumberOfDays" name="NumberOfDays" placeholder="(Max of 5 days)" />
        <input type="submit" value="Find" id="btnSubmit" />
    </div>
    
}

@if (Model != null)
{
    string classContainer = "weathercontainer" + Model.Weath.Count();
    
    <div class="@classContainer">
        @foreach (var i in Model.Weath)
        {
            string wInfoCont = "wInfo" + @count.ToString();
            <div class="day-weather">
                @*<p>@i.DateTimeStamp.DayOfWeek,@i.DateTimeStamp.Day</p>*@
                <p>@i.TransformedDate</p>
                @foreach (var u in i.DayWeatherInfo)
                {
                    if (u.main.Contains("clouds") || u.main.Contains("shower"))
                    {
                        bgClass = u.main;
                    }
                    else
                    {
                        bgClass = u.description;
                    }
                    <div id="@wInfoCont" class="@bgClass">
                        <img src="~/Content/Icons/@u.icon" />
                        <p class="description">@u.description</p>
                    </div>
                    count++;
                }
                <p class="c-temp">@i.DayTemperatureInfo.CTemperature°C</p>
                <p class="f-temp">@i.DayTemperatureInfo.FTemperature°F</p>
            </div>
        }
    </div>
}
else
{
    <center>Know weather information.</center>
}


